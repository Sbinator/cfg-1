#!/usr/bin/env hy

(import [sh [notify-send]])
(import [markdown [markdown]])
(import [time [sleep]])


(def work-time (* 60 30))
(def break-time (* 60 5))

(def notify (.bake notify-send
                   :u "critical"
                   :t 10000
                   :a "pom"))

(defn take-a-break []
  "Break time notification"
  (notify (markdown "###Break time")
          "Take a break. Go eat/drink something !"))

(defn start-work []
  "Work time notification"
  (notify (markdown "###Work time")
          "Time to get things done !"))

;; Main loop
(while True
  (start-work) (sleep work-time) (take-a-break) (sleep break-time))
